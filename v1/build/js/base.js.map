{"version":3,"sources":["../../js/plugins.js","../../js/openx.js"],"names":[],"mappings":"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","file":"base.js","sourcesContent":["/*============================================================\n  Avoid `console` errors in browsers that lack a console.\n==============================================================*/\n(function() {\n    var method;\n    var noop = function () {};\n    var methods = [\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n        'timeStamp', 'trace', 'warn'\n    ];\n    var length = methods.length;\n    var console = (window.console = window.console || {});\n\n    while (length--) {\n        method = methods[length];\n\n        // Only stub undefined methods.\n        if (!console[method]) {\n            console[method] = noop;\n        }\n    }\n}());\n","var OpenxObj = function() {\n  this.oxAsync = \"\";\n  this.oxSync = \"\";\n  this.addPage = {};\n  this.adUnitGroup = \"\";\n  this.oxVar = [];\n  this.deviceType = \"\";\n  this.positionDeviceAdId = []; // div id | device | unitId\n  this.componentDeviceAdId = [];\n  this.componentAdCounter = 0;\n  this.elementIdPlaceholder = \"-holder\";\n\n  this.asyncAdUnitsRender = function() {\n    var jsText = \"\";\n    this.hideEmptyAdSlots(this.deviceType);\n\n    if (this.adUnitGroup !== undefined) {\n      jsText = 'var ' + this.oxAsync + ' = OX();';\n      // get openx vars\n      for (var i = 0; i < this.oxVar.length; i++) {\n        var oxVar = this.oxVar[i];\n        jsText += this.oxAsync + '.addVariable(\\\"' + oxVar[0] + '\\\", \\\"' + oxVar[1] + '\\\");';\n      }\n      // based on device set OpenX: AddPage Id\n      jsText += this.oxAsync + '.addPage(\\\"' + this.adUnitGroup + '\\\");';\n      // render adunits\n      for (var j = 0; j < this.positionDeviceAdId.length; j++) {\n        var ad = this.positionDeviceAdId[j];\n\n        if (ad[1] == this.deviceType && ad[3] == 'async') {\n          jsText += this.oxAsync + '.addAdUnit(\\\"' + ad[2] + '\\\");';\n          jsText += this.oxAsync + '.setAdUnitSlotId(\\\"' + ad[2] + '\\\", \\\"' + ad[0] + '\\\");';\n        }\n      }\n      // load ads\n      jsText += this.oxAsync + '.load();';\n\n      // write openx ad call to DOM\n      var a = document.createElement('script');\n      a.type = 'text/javascript';\n      a.async = true;\n      //a.id = 'openxasyncads';\n      a.text = jsText;\n      document.body.appendChild(a);\n    }\n  };\n\n  this.asyncAdControlRender = function(adUnitElementId, elementIdNum) {\n    var jsText = \"\";\n    var ads = this.componentDeviceAdId;\n    var _elementIdNum = elementIdNum;\n\n    if (ads.length > 0) {\n      jsText = 'var ' + this.oxAsync + ' = OX();';\n      jsText += this.oxAsync + '.addPage(\\\"' + this.adUnitGroup + '\\\");';\n      // set ox var\n      for (var i = 0; i < this.oxVar.length; i++) {\n        var oxVar = this.oxVar[i];\n        jsText += this.oxAsync + '.addVariable(\\\"' + oxVar[0] + '\\\", \\\"' + oxVar[1] + '\\\");';\n      }\n      // loop component adunits\n      if (ads.length != this.componentAdCounter) {\n        jsText += this.oxAsync + '.addAdUnit(\\\"' + ads[this.componentAdCounter] + '\\\");';\n        jsText += this.oxAsync + '.setAdUnitSlotId(\\\"' + ads[this.componentAdCounter] + '\\\", \\\"' + adUnitElementId + '-' + _elementIdNum + '\\\");';\n      } else {\n        this.componentAdCounter = 0; // reset ad array, start from 0 ad unit\n        jsText += this.oxAsync + '.addAdUnit(\\\"' + ads[this.componentAdCounter] + '\\\");';\n        jsText += this.oxAsync + '.setAdUnitSlotId(\\\"' + ads[this.componentAdCounter] + '\\\", \\\"' + adUnitElementId + '-' + _elementIdNum + '\\\");';\n      }\n\n      jsText += this.oxAsync + '.load();';\n\n      (new Function(jsText))();\n      this.componentAdCounter++; //@TODO\n      //console.log('>>> ' + jsText);\n    }\n  };\n\n  this.syncAdFetchCall = function() {\n    if (this.adUnitGroup !== undefined) {\n      var device = this.deviceType;\n      var jsText = \"\";\n\n      jsText += 'var ' + this.oxSync + ' = OX();';\n      jsText += this.oxSync + '.addPage(\\\"' + this.adUnitGroup + '\\\");';\n\n      for (var i = 0; i < this.oxVar.length; i++) {\n        var oxVar = this.oxVar[i];\n        jsText += this.oxSync + '.addVariable(\\\"' + oxVar[0] + '\\\", \\\"' + oxVar[1] + '\\\");';\n      }\n\n      jsText += this.oxSync + '.fetchAds();';\n\n      var a = document.createElement('script');\n      a.type = 'text/javascript';\n      //a.id = 'openxsyncads';\n      a.text = jsText;\n      var s = document.getElementsByTagName('script')[0];\n      s.parentNode.insertBefore(a, s); //document.head.appendChild(a);\n    }\n  };\n\n  this.syncAdRender = function(adPosition) {\n    var device = this.deviceType;\n    if (this.adUnitGroup !== undefined) {\n      for (var j = 0; j < this.positionDeviceAdId.length; j++) {\n        var ad = this.positionDeviceAdId[j];\n\n        if (ad[1] == this.deviceType && ad[0] == adPosition) {\n          (new Function(this.oxSync + '.showAdUnit(\\\"' + ad[2] + '\\\");'))();\n        }\n      }\n    }\n  };\n\n  this.setDevice = function() {\n    if (device.mobile()) {\n      this.deviceType = \"mobile\";\n    }\n    if (device.tablet()) {\n      this.deviceType = \"tablet\";\n    }\n    if ((device.mobile() !== true) && (device.tablet() !== true)) {\n      this.deviceType = \"desktop\";\n    }\n  };\n\n  this.setAddPageId = function() {\n    this.adUnitGroup = this.addPage[this.deviceType];\n  };\n\n  this.prepareAdsArrayForComponents = function(adArray) {\n    var ads = [];\n    var adsCounter = 0;\n\n    $.each(adArray, function(key, value) {\n      if (value.status == \"Active\") {\n        ads[adsCounter] = value.id;\n        adsCounter++;\n      }\n    });\n    return ads;\n  };\n\n  this.hideEmptyAdSlots = function(deviceType) { // @TODO - optimize Fn\n    var currDeviceElementId = [];\n    var otherDeviceElementId = [];\n    var hideElementId = [];\n\n    for (var k = 0; k < this.positionDeviceAdId.length; k++) {\n      var divId = this.positionDeviceAdId[k];\n      if (divId[1] == deviceType) {\n        currDeviceElementId.push(divId[0]);\n      } else {\n        otherDeviceElementId.push(divId[0]);\n      }\n    }\n\n    hideElementId = this.diffArray(otherDeviceElementId, currDeviceElementId);\n\n    for (var h = 0; h < hideElementId.length; h++) {\n      $('#' + hideElementId[h] + this.elementIdPlaceholder).hide();\n      console.log('hideElementId:  #' + hideElementId[h] + this.elementIdPlaceholder);\n    }\n  };\n\n  this.diffArray = function(a, b) {\n    var seen = [],\n    diff = [];\n    for (var i = 0; i < b.length; i++)\n      seen[b[i]] = true;\n      for (var e = 0; e < a.length; e++)\n        if (!seen[a[e]])\n          diff.push(a[e]);\n          return diff;\n        };\n\n        this.getDataFromOpenxAPI = function() {\n          if (this.adUnitGroup !== undefined) {\n            var self = this;\n            $.ajax({\n              type: \"GET\",\n              dataType: \"JSON\",\n              url: \"ox/openx-api.php\",\n              data: {\n                adunitgroup: this.adUnitGroup\n              },\n              success: function(data) {\n                if (data !== null) {\n                  self.componentDeviceAdId = self.prepareAdsArrayForComponents(data.objects);\n                }\n              },\n              error: function(xhr, status, errorThrown) {\n                console.log(\"Error: \" + errorThrown);\n                console.log(\"Status: \" + status);\n                console.log(xhr);\n              }\n            });\n          }\n        };\n\n        this.init = function() {\n          this.setDevice();\n          this.setAddPageId();\n          this.debugObj();\n        };\n\n        this.debugObj = function() {\n          console.log('objOpenX :' + JSON.stringify(this));\n        };\n      };\n"]}