!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var OpenxObj=function(){this.oxAsync="",this.oxSync="",this.addPage={},this.adUnitGroup="",this.oxVar=[],this.deviceType="",this.positionDeviceAdId=[],this.componentDeviceAdId=[],this.componentAdCounter=0,this.elementIdPlaceholder="-holder",this.asyncAdUnitsRender=function(){var a="";if(this.hideEmptyAdSlots(this.deviceType),void 0!==this.adUnitGroup){a="var "+this.oxAsync+" = OX();";for(var b=0;b<this.oxVar.length;b++){var c=this.oxVar[b];a+=this.oxAsync+'.addVariable("'+c[0]+'", "'+c[1]+'");'}a+=this.oxAsync+'.addPage("'+this.adUnitGroup+'");';for(var d=0;d<this.positionDeviceAdId.length;d++){var e=this.positionDeviceAdId[d];e[1]==this.deviceType&&"async"==e[3]&&(a+=this.oxAsync+'.addAdUnit("'+e[2]+'");',a+=this.oxAsync+'.setAdUnitSlotId("'+e[2]+'", "'+e[0]+'");')}a+=this.oxAsync+".load();";var f=document.createElement("script");f.type="text/javascript",f.async=!0,f.text=a,document.body.appendChild(f)}},this.asyncAdControlRender=function(a,b){var c="",d=this.componentDeviceAdId,e=b;if(d.length>0){c="var "+this.oxAsync+" = OX();",c+=this.oxAsync+'.addPage("'+this.adUnitGroup+'");';for(var f=0;f<this.oxVar.length;f++){var g=this.oxVar[f];c+=this.oxAsync+'.addVariable("'+g[0]+'", "'+g[1]+'");'}d.length!=this.componentAdCounter?(c+=this.oxAsync+'.addAdUnit("'+d[this.componentAdCounter]+'");',c+=this.oxAsync+'.setAdUnitSlotId("'+d[this.componentAdCounter]+'", "'+a+"-"+e+'");'):(this.componentAdCounter=0,c+=this.oxAsync+'.addAdUnit("'+d[this.componentAdCounter]+'");',c+=this.oxAsync+'.setAdUnitSlotId("'+d[this.componentAdCounter]+'", "'+a+"-"+e+'");'),c+=this.oxAsync+".load();",new Function(c)(),this.componentAdCounter++}},this.syncAdFetchCall=function(){if(void 0!==this.adUnitGroup){var a=(this.deviceType,"");a+="var "+this.oxSync+" = OX();",a+=this.oxSync+'.addPage("'+this.adUnitGroup+'");';for(var b=0;b<this.oxVar.length;b++){var c=this.oxVar[b];a+=this.oxSync+'.addVariable("'+c[0]+'", "'+c[1]+'");'}a+=this.oxSync+".fetchAds();";var d=document.createElement("script");d.type="text/javascript",d.text=a;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e)}},this.syncAdRender=function(a){this.deviceType;if(void 0!==this.adUnitGroup)for(var b=0;b<this.positionDeviceAdId.length;b++){var c=this.positionDeviceAdId[b];c[1]==this.deviceType&&c[0]==a&&new Function(this.oxSync+'.showAdUnit("'+c[2]+'");')()}},this.setDevice=function(){device.mobile()&&(this.deviceType="mobile"),device.tablet()&&(this.deviceType="tablet"),device.mobile()!==!0&&device.tablet()!==!0&&(this.deviceType="desktop")},this.setAddPageId=function(){this.adUnitGroup=this.addPage[this.deviceType]},this.prepareAdsArrayForComponents=function(a){var b=[],c=0;return $.each(a,function(a,d){"Active"==d.status&&(b[c]=d.id,c++)}),b},this.hideEmptyAdSlots=function(a){for(var b=[],c=[],d=[],e=0;e<this.positionDeviceAdId.length;e++){var f=this.positionDeviceAdId[e];f[1]==a?b.push(f[0]):c.push(f[0])}d=this.diffArray(c,b);for(var g=0;g<d.length;g++)$("#"+d[g]+this.elementIdPlaceholder).hide(),console.log("hideElementId:  #"+d[g]+this.elementIdPlaceholder)},this.diffArray=function(a,b){for(var c=[],d=[],e=0;e<b.length;e++)c[b[e]]=!0;for(var f=0;f<a.length;f++)c[a[f]]||d.push(a[f]);return d},this.getDataFromOpenxAPI=function(){if(void 0!==this.adUnitGroup){var a=this;$.ajax({type:"GET",dataType:"JSON",url:"ox/openx-api.php",data:{adunitgroup:this.adUnitGroup},success:function(b){null!==b&&(a.componentDeviceAdId=a.prepareAdsArrayForComponents(b.objects))},error:function(a,b,c){console.log("Error: "+c),console.log("Status: "+b),console.log(a)}})}},this.init=function(){this.setDevice(),this.setAddPageId(),this.debugObj()},this.debugObj=function(){console.log("objOpenX :"+JSON.stringify(this))}};